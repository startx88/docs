# PostgreSQL data types:

- Boolean
- Numeric type such as `(Integer and Floating-Point)`.
- Char type such as `(char, varchar, text)`.
- Temporal type such as `(date, time, timestamp and interval)`.
- UUID type Universally unique identifiers
- Array for storing array `(numbers and string)`.
- JSON stores json data.
- Special type such as network address and geometric data.

<br>

**`Boolean:`**<br>
A boolan data types has `one` of three values.

- true
- false
- null

You can choose `boolean` or `bool` keyword.

`Note:`<br>

- 1, t, yes,y, true => values are converted to true.
- 0, f, no, false => values are converted to false.

<br>

**`Character:`**<br>
It has three char data types.

- `char(n)` => fixed-length, add pad space if shorter then given column length.
- `varchar(n)` => variable-length, does not add pad space if string is shorter then colum length.
- `text` => unlimited length.

<br>

**`Numeric:`**<br>
It is provide two distinct types of numbers:

- `Integers:` <br>
  There are three kind of integers:

  - `SMALLINT (small integer):` it is 1-byte signed integer that has a range from `-32768 - 32767`. <br>
  - `INT (integer):` It is a 4-byte integer that has a range from `-2147483648 - 2147483647`. <br>
  - `SERIAL:` It is a same as `integer` except that will autometically generate and populate value into serial. it is similar to `AUTO_INCREMENT`.

    `Example:`

    ```PostgreSQL
    CREATE TABLE users (
      user_id SERIAL
    )
    ```

    - First, create a sequence object and set the next value generated by the sequence as the default value for the column.

    - Second, Add a `NOT NULL` constraint to the user_id column becouse sequence always generate an integer.

    - Third, assign the owner of the sequence to the id column.

    `How it works (Behind the scene):`

    ```PostgreSQL
    CREATE SEQUENCE table_name_user_id_seq;

    CREATE TABLE users (
      user_id integer NOT NULL DEFAULT nextval('table_name_user_id_seq')
    )

    ALTER SEQUENCE table_name_user_id_seqsele
    OWNED BY users.user_id;
    ```

    `PostgreSQL` provide three serial types:

    | Name         | Storage size | Range                          |
    | ------------ | ------------ | ------------------------------ |
    | SMALLSERIRAL | 2 byte       | 1 to 32,767                    |
    | SERIRAL      | 4 byte       | 1 to 2,147,483,647             |
    | BIGSERIRAL   | 8 byte       | 1 to 9,233,372,036,854,775,807 |

- `floating-point:`<br>
  There are three main types of floating-point numbers:

  - `float(n):` Whose precision, at least , n up to max `8 bytes`.
  - `real or float8:` 4 byte floating point number.
  - `numeric or numeric(p,s):` p for digit, s for decimal.

<br>

**`Temporal:`**
It is allow you to store date and /or time data.
It has 5 main temporal data types.

- `DATE:` <br>
  Stores date values, It uses 4 bytes, <br> It uses the `yyyy-mm-dd` format. <br> Lowest and Heiest value is `4713 BC` - `5874897 AD`. <br> If you want to use default value then you can to like this
  `DATE NOT NULL DEFAULT CURRENT_DATE`

  `Example:`

  ```PostgreSQL
  CREATE TABLE users (
    user_id SERIAL PRIMARY KEY,
    name VARCHAR(50) NOT NULL,
    insertAt DATE NOT NULL DEFAULT CURRENT_DATE
  )
  ```

  `PostgreSQL Date functions:`

  - `Get the current date:`
    ```PostgreSQL
     1. SELECT NOW()::date;
     2. SELECT CURRENT_DATE;
    ```
  - `Format date:`
    ```PostgreSQL
     1. SELECT TO_CHAR(NOW() :: DATE, 'dd/mm/yyyy')
     2. SELECT TO_CHAR(NOW() :: DATE, 'Mon dd, yyyy')
    ```
  - `Get interval between two dates:`
    ```PostgreSQL
     1. SELECT first_name, NOW() - hire_date as diff FROM users;
    ```
  - `Calculate ages in year, months and days:`

    ```PostgreSQL
     1. SELECT user_id, first_name, AGES(dob) FROM users;
    ```

    AGE() - It subtract the dob into the CURRENT_DATE.

  - `Extract year, quarter, month, week, day from a date value:`
    ```PostgreSQL
      SELECT
        employee_id,
        first_name,
        last_name,
        EXTRACT (YEAR FROM birth_date) AS YEAR,
        EXTRACT (MONTH FROM birth_date) AS MONTH,
        EXTRACT (DAY FROM birth_date) AS DAY
      FROM
        employees;
    ```

- `TIME:`<br>
  Stores time of day,<br> It uses 8 bytes <br> Range from `00:00:00 to 24:00:00`. <br>
  PostgreSQL `TIME with time zone` type

  - `Get current time:`

    ```PostgreSQL
     1. SELECT CURRENT_DATE;
     2. SELECT CURRENT_DATE(3);
    ```

  - `Get localtime:`

    ```PostgreSQL
     1. SELECT LOCALTIME;
     2. SELECT LOCALTIME(0);
    ```

  - `Convert time to timezone:`
    ```PostgreSQL
     1. SELECT CURRENT_DATE AT TIME ZONE 'GMT';
     2. SELECT LOCALTIME AT TIME ZONE 'UTC-7';
    ```
  - `Extract hours, minutes, seconds from a time value:`

    ```PostgreSQL
      SELECT
        LOCALTIME,
        EXTRACT (HOUR FROM LOCALTIME) as hour,
        EXTRACT (MINUTE FROM LOCALTIME) as minute,
        EXTRACT (SECOND FROM LOCALTIME) as second,
        EXTRACT (milliseconds FROM LOCALTIME) as milliseconds,
    ```

  - `Arithmetic operations on time values:`
    ```PostgreSQL
     1. SELECT time '10:00' - time '02:00' AS result;
     2. SELECT LOCALTIME + interval '2 hours' AS result;
    ```
